:root{
  --navy:#0b1020;
  --teal:#0e7a72;
  --teal-700:#0c6a63;
  --orange:#f97316;
  --paper:#e9eef6;           /* was #f6f8fb */
  --card:#f3f4f6;            /* was #ffffff */
  --ink:#0b1020;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;color:#111827;background:linear-gradient(180deg, #e9eef6 0%, #e5ebf4 100%);font-size:16px;line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;letter-spacing:.15px}
a{color:inherit}
/* Layout */
.sidebar{position:fixed;top:0;left:0;bottom:0;width:290px;background:#0f172a;color:#e2e8f0;border-right:1px solid #334155;display:flex;flex-direction:column;padding:18px;gap:14px}
.brand h1{font-size:1.1rem;margin:0 0 6px 0;letter-spacing:.2px}
.brand p{font-size:.95rem;margin:0;color:#cbd5e1}
.toc{display:flex;flex-direction:column;gap:6px;margin-top:6px}
.toc a{padding:10px 12px;border-radius:10px;text-decoration:none;color:#e2e8f0;border:1px solid transparent;transition:transform .08s ease, background .15s ease, border-color .2s ease}
.toc a:hover{background:#0e1633;transform:translateX(2px);border-color:#3b4a65}
.toc a.active{background:#0b5f59}
.side-actions{margin-top:auto;display:flex;flex-direction:column;gap:8px}
.side-actions button{padding:10px 12px;border-radius:12px;border:1px solid #1f2937;background:#0f766e;color:white;cursor:pointer;transition:transform .08s ease, box-shadow .15s ease}
.side-actions button:hover{transform:translateY(-1px);box-shadow:0 6px 14px rgba(0,0,0,.25)}
.side-actions .primary{background:#0f766e}
.content{position:relative;margin-left:290px;width:calc(100% - 290px);padding:16px 28px 120px}
/* Cards and questions */
.card{background:var(--card);border:1px solid #d1d5db;border-radius:18px;padding:20px 20px 12px;margin:18px auto;box-shadow:0 10px 28px rgba(15,23,42,.10);animation:pop .18s ease-out;max-width:1200px}
@media (min-width:1600px){.card{max-width:1400px}}
@keyframes pop{from{transform:scale(.995);opacity:.97}to{transform:scale(1);opacity:1}}
h2{font-size:1.08rem;margin:0 0 10px 0;color:var(--ink);letter-spacing:.2px}
.grid{display:grid;gap:12px}
.grid-4{grid-template-columns:repeat(4,1fr)}
@media (max-width:1200px){.grid-4{grid-template-columns:repeat(2,1fr)}}
@media (max-width:760px){.grid-4{grid-template-columns:1fr} .sidebar{width:240px} .content{margin-left:240px;width:calc(100% - 240px)}}
label{display:block;font-size:1rem;font-weight:500}
input,textarea{width:100%;padding:12px 12px;border:1px solid #cbd5e1;border-radius:12px;background:#f8fafc;font-size:1rem;line-height:1.55;transition:border-color .15s ease, box-shadow .15s ease}
input:focus,textarea:focus{outline:none;border-color:#0f766e;box-shadow:0 0 0 3px rgba(15,118,110,.18)}
.q{margin:16px 0;padding:14px;border-left:5px solid var(--orange);background:linear-gradient(90deg, rgba(249,115,22,.07), transparent 60%);border-radius:12px;transition:box-shadow .15s ease}
.q:hover{box-shadow:0 8px 18px rgba(15,23,42,.08)}
.chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.chips button{padding:10px 12px;border:1px solid #94a3b8;background:#f8fafc;border-radius:12px;cursor:pointer;transition:transform .08s ease, box-shadow .12s ease, border-color .15s ease, background .15s ease, color .15s ease;font-weight:600}
.chips button:hover{transform:translateY(-1px);box-shadow:0 8px 14px rgba(15,23,42,.12);border-color:#64748b}
/* Strong active state */
.chips button.active{
  background:#0f766e;color:#ffffff;border-color:#0f766e;
  box-shadow:0 0 0 2px rgba(15,118,110,.45), inset 0 -2px 0 rgba(0,0,0,.12);
}
.chips button.active:hover{background:#115e59;border-color:#115e59}
.chips button:focus-visible{outline:3px solid rgba(15,118,110,.4);outline-offset:2px}
.prompt{margin-bottom:6px;padding:10px 12px;background:#f8fafcfff;border:1px solid #d1d5db;border-radius:10px;font-weight:500}
.token{display:inline-block;padding:0 2px;border-bottom:none;border-radius:4px;min-width:1ch;background:rgba(15,118,110,.10)}
.token:focus{outline:2px solid rgba(15,118,110,.35);background:rgba(15,118,110,.15)}
.hidden{display:none!important}
/* Notes collapse */
.notes{margin-top:8px;border:1px dashed #cbd5e1;border-radius:12px;padding:0;overflow:hidden;transition:max-height .18s ease, padding .18s ease, border-color .18s ease}
.notes.collapsed{max-height:0;padding:0;border-color:transparent}
.notes:not(.collapsed){max-height:260px;padding:8px}
.notes textarea{width:100%;min-height:140px;border-radius:10px}
/* Visible trigger */
.notes-trigger{display:inline-block;margin-top:8px;border:1px solid #94a3b8;background:#f8fafc;border-radius:999px;padding:6px 10px;font-size:.9rem;cursor:pointer;transition:background .15s ease, transform .08s ease}
.notes-trigger:hover{background:#e6ebf3;transform:translateY(-1px)}

/* Appointment grid */
#appt-grid .appt-row{display:grid;grid-template-columns:1fr 1fr;gap:12px;align-items:end;margin:8px 0}
#appt-grid .datecell{display:grid;grid-template-columns:auto auto 1fr;align-items:center;gap:8px}
.remove-time{border:1px solid #e11d48;background:#fee2e2;color:#991b1b;border-radius:8px;padding:2px 8px;cursor:pointer}
.remove-time:hover{background:#fecaca}
.timecell label,.datecell label{margin-bottom:2px}
/* toast */
.toast{position:fixed;right:24px;bottom:24px;background:#0f766e;color:#fff;padding:10px 14px;border-radius:10px;box-shadow:0 10px 24px rgba(0,0,0,.25);opacity:0;transform:translateY(8px);transition:opacity .15s ease, transform .15s ease}
.toast.show{opacity:1;transform:translateY(0)}
.hidden{display:none}

#appt-grid .datecell{display:grid;grid-template-rows:auto auto;gap:6px}
#appt-grid .datehead{display:flex;align-items:center;gap:8px}
